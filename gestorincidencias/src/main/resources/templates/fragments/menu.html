<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/springsecurity">
<head>
  <meta charset="UTF-8">
  <title>Fragmento del Menú</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <link rel="stylesheet" href="css/menu.css">
</head>
<body>
<div th:fragment="menu">
  <!-- Barra superior con botón para abrir/ocultar el menú -->
  <div class="navbar navbar-dark">
    <h1 class="title">Contenido</h1>
  </div>

  <!-- Sidebar (Inicialmente abierto) -->
  <div class="sidebar open" id="sidebar">
    <a href="#">Inicio</a>
    <a href="#">Incidencias</a>
    <a href="#">Nueva incidencia</a>
    <a href="#">Reportes</a>
    <a href="#">Usuarios</a>
    <a href="#">Configuración</a>
    <a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">Cerrar sesión</a>
    <form id="logout-form" th:action="@{/logout}" method="post" style="display: none;">
      <!-- Formulario de cierre de sesión escondido -->
    </form>
    <!-- Botón para abrir y cerrar el menú -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">☰</button>

  </div>

  <!-- Contenido principal -->
  <div class="content">
    <!-- Aquí irá el contenido principal -->
  </div>
</div>
<script>
  function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      if (sidebar.style.left === '0px') {
          sidebar.style.left = '-250px';
      } else {
          sidebar.style.left = '0';
      }
  }
</script>
</body>
</html>
